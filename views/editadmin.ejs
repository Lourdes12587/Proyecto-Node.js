<%- include('partials/head') %>

<link rel="stylesheet" href="/resources/css/editadmin.css">

<%- include('partials/header') %>

<main class="auth-wrapper">
  <div class="login-container" style="max-width:420px;">
    <h2>Editar participante</h2>
    <p class="helper small mb-2">Modifica los datos y pulsa Guardar</p>

    <% if (participante) { %>
      <form action="/updateAdmin" method="post" class="mt-2">
        <!-- Cambiado a hidden para que no se muestre editable el id -->
        <input type="hidden" name="id" id="id" value="<%= participante.id %>" />

        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" name="nombre" value="<%= participante.nombre %>" required />

        <label for="apellido">Apellido</label>
        <input type="text" id="apellido" name="apellido" value="<%= participante.apellido %>" required />

        <label for="dni">DNI</label>
        <input type="text" id="dni" name="dni" value="<%= participante.dni %>" required />

        <label for="telefono">Teléfono</label>
        <input type="text" id="telefono" name="telefono" value="<%= participante.telefono %>" />

        <label for="calle">Calle</label>
        <input type="text" id="calle" name="calle" value="<%= participante.calle %>" />

        <label for="numero">Número</label>
        <input type="text" id="numero" name="numero" value="<%= participante.numero %>" />

        <label for="poblacion">Población</label>
        <input type="text" id="poblacion" name="poblacion" value="<%= participante.poblacion %>" />

        <label for="codigo_postal">Código Postal</label>
        <input type="text" id="codigo_postal" name="codigo_postal" value="<%= participante.codigo_postal %>" />

        <div style="display:flex;gap:10px;margin-top:14px;">
          <button type="submit" class="cta-btn" style="flex:1">Guardar</button>
          <a href="/admin" class="btn" style="flex:1; background:transparent; border:1px solid rgba(22,66,91,0.06); color:var(--indigo-dye); border-radius:999px; padding:8px 12px; text-align:center; display:inline-flex; align-items:center; justify-content:center;">Cancelar</a>
        </div>
      </form>
    <% } else { %>
      <div class="form-alert" style="margin-top:12px;">
        Participante no encontrado.
      </div>
    <% } %>
  </div>
</main>

<%- include('partials/footer') %>

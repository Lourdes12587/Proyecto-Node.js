<%- include('partials/head') %>

<%- include('partials/header') %>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" defer></script>
<link rel="stylesheet" href="/resources/css/register.css">

<% if ((typeof register !== 'undefined' && register) || typeof validaciones !== 'undefined') { %>
  <div class="inscripcion-container">
    <h2>REGISTER ADMINISTRADOR</h2>
    <form action="/register" method="POST">

      <div class="form-group">
        <label for="user">Usuario:</label>
        <input type="text" name="user" placeholder="Ingrese su usuario"
        value="<% if (typeof valores !=='undefined') { %> <%= valores.user %> <% } %>">
      </div>

      <div class="form-group">
        <label for="nombre">Nombre:</label>
        <input type="text" name="nombre" placeholder="Ingrese su nombre"
        value="<% if (typeof valores !=='undefined') { %> <%= valores.nombre %> <% } %>">
      </div>

      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input type="password" name="password" 
        placeholder="Ingrese su contraseña"
        value="<% if (typeof valores !=='undefined') { %> <%= valores.password %> <% } %>">
      </div>

      <button type="submit" class="btn-registrarse">INSCRIBIRSE</button>

      <% if (typeof validaciones != 'undefined') { %>
        <% validaciones.forEach(validacion => { %>
          <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong><%= validacion.msg %></strong> 
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div> 
        <% }); %>
      <% } %>
    </form>
  </div>
<% } %>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

      <% if (typeof alert != 'undefined') { %>
      <script>
        Swal.fire({
          title: '<%= alertTitle %>',
          text: '<%= alertMessage %>',
          icon: '<%= alertIcon %>',
          showConfirmButton: <%= showConfirmButton %>,
          timer: <%= timer %>
        }).then (()=> {
            window.location ='/<%= ruta%>'
        })
        </script>
      <% } %>

